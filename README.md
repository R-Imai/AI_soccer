# AI_soccer
## 概要説明<br>
このプログラムは「openGL」を使用して書かれたプログラムの戦略の部分を使用者それぞれが書き勝敗を競うことを目的として書きました。
## 仕様
### 1.画面説明<br>
このプログラムでは下図のような座標系をとり、よく使用されると思われる座標は、「#define」により以下の文字に同等の値を持たせました。<br>
赤がA チーム青がB チームです。
![grand_info](C:\Users\cit\Documents\AIsoccer\grand_info1.png "画面説明")
***
### 2.P_data 構造体内の変数説明
P_data 構造体はプレイヤーの状態を表す構造体です。
#### double : X , Y , ang
X,Y はそれぞれプレイヤーのx 座標、y 座標です。また、ang はx 軸からの時計回りに
はかった向きの角度で、範囲は「􀀀180◦～180◦」です。
#### double : vx , vy , vang
それぞれx の速度、y の速度、角速度です。この値は基本いじらなくても後述の関数で
自動で与えられます。
#### int : mode , cnd , have , re
　mode,cnd は戦略を立てるうえで皆さんに自由に使っていただける変数です。チーム内での分担や、行動の進み具合を表す等自由にお使いください。<br><br>
　have はそのプレーヤーがボールを持っている際は1 それ以外は0 となります。have は自動的に設定されますのでいじらないでください。<br><br>
　re は後述の行動する関数が完了した際に1 となって返されます。行動終了の合図としてお使いください。<br><br>
また、行動終了後に1 となるため、必要のない場合でも
```c
if(A[1].re == 1){
  A[1].re = 0
}
```
と記述してください。でないと予期せぬバグを起こすことがあります。

### B_data 構造体内の変数説明
B_data 構造体はボールの情報を表す構造体です。この値は自動的に設定されますので
いじらないでください
#### double : X,Y
それぞれボールのx 座標y 座標をあらわしています。
#### int : have
ボールの所持者の情報です。この値が正の値ならA チームのプレイヤーが所持、負の値ならB チームのプレイヤーが所持しています。
#### int : state
試合の状態です。正の値ならA チーム、負の値ならB チームに所持権があります。<br>
　 　0 : 試合中<br>
　-1,1 : スローイン<br>
　-2,2 : ゴールキック<br>
　-3,3 : コーナーキック<br>
***
## 主要関数説明
### double dist(double x1 , double y1 , double x2 , double y2)
この関数は引数に二点間の座標(x1 , y1) , (x2 , y2) を入力するとその間の距離を返し
ます。
### P data turn(P data play, double ang)
この関数は引数にプレイヤー構造体と目標角度(deg) を入力することで目標角度に向かって回転し始めます。<br>
返り値は回転するプレイヤーのP data 構造体です。<br>
目標角度まで回転した際にはplay.re が1 になって返されますので0 にする操作を入れてください。<br>
###### 使用例
```c
A[1] = turn(A[1] , 45); 　//A[1] を45◦ の向きに向かせる。
if(A[1].re == 1){ 　　　　//A[1] が45◦ になりA[1].re が１になって返ってきたら
　　　A[1].cnd++; 　　　　//コマンドを次へ
　　　A[1].re = 0; 　　　　//A[1].re を0 に戻す。
}
```
##### P_data turn_G(P_data play)
この関数はturn 関数の特殊版で自分たちが攻めるゴールへ向きます。<br>
使用方法はturn 関数と同じです。<br>
##### P_data turn_P(P_data turner , P_data waiter)
この関数はturn 関数の特殊版でturner がwaiter を向きます。<br>
使用方法はturn 関数と同じです。
##### P_data turn_B(P_data play)
この関数はturn 関数の特殊版でボールのある方向を向きます。<br>
使用方法はturn 関数と同じです。
### P_data go(P_data play)
この関数はただ前に進む関数です。現在の向きに速度を持たせます。<br>
返り値はそのプレイヤーのP data 構造体です。<br>
この関数ではplay.re が1 になることはありません。<br>
##### P_data G_go(P data play , int meter)
この関数はgo 関数の特殊版で自分たちが攻めるゴールとの距離がmeter になるまで進みます。<br>
go 関数と違い、行動が完了するとplay.re が1 になって返されますので0 にする操作を入れてください。<br>
### P data move(P_data play , double xx , double yy)
この関数は(xx , yy) を目標地点にして移動する関数です。<br>
返り値はそのプレイヤーのP_data 構造体です。<br>
この関数では移動が完了したらplay.re が1 になって返されますので0 にする操作を入れてください。<br>
###### 使用例
```c
A[1] = move(A[1] , 100 , 400); 　//A[1] を(100 , 400) へ移動させる。
if(A[1].re == 1)｛         //A[1] が移動を完了してA[1].re が１になって返ってきたら
　　　A[1].cnd++; 　  　　　//コマンドを次へ
　　　A[1].re = 0; 　　　 　//A[1].re を0 に戻す。
｝

```
##### P_data get(P data play)
この関数はmove 関数の特殊版でボールを取りに行く関数です。<br>
使用方法はmove 関数と同じです。<br>
### P_data stop(P data play)
この関数はただplay の速度を0 にする関数です。返り値はそのプレイヤーのP data 構造体です。<br>
この関数ではplay.re が1 になることはありません。<br>
##### void stop(char side)
この関数はstop 関数のオーバーロード版で引数に′A′もしくは′B′ を持たせることでそのチーム全体の速度を0 にします。<br>
### P_data pass(P data passer , P data getter)
この関数はpasser がgetter へパスする関数です。<br>
passer の前方30◦ 以内にgetter が存在するまで回転します。その後ボールをgetter へ向かってけりだします。<br>
パスをし終わった際にはplay.re が1 になって返されますので0 にする操作を入れてください。<br>
この関数はpassar がボールを所持していないと機能しません。<br>
###### 使用例
```c
A[1] = pass(A[1] , A[2]); 　//A[1] からA[2] へパスさせる。
if(A[1].re == 1){ 　　　　//A[1] がパスをしてA[1].re が１になって返ってきたら
　　　A[1].cnd++; 　　　　//コマンドを次へ
　　　A[1].re = 0; 　　　　//A[1].re を0 に戻す。
}

```
### P_data shoot(P data player)
この関数はplayer がボールを前方へ蹴る関数です<br>
蹴り終わった際にはplay.re が1 になって返されますので0 にする操作を入れてください。<br>
この関数はplayer がボールを所持していないと機能しません。<br>

### double calc passang(P data passer, P data getter)
この関数はpasserから見たgetterを返します。<br>
パス角度の計算等にお使いください。<br>

***
## 戦略の書き方と書く関数
ここからは戦略の何をどの関数に書いていけばいいのかを説明します。
### A\_(B\_)init
この関数内には初期の位置と角度を記述してください。また、プレイヤー構造体内の変数リセットも記述できます。<br>
###### 書き方例
```c
void A init(void){
　　　A[1].X = 500;
　　　A[1].Y = 200;
　　　A[1].ang = -90;
　　　for(int i = 0 , i <= PLAYER , i++){//諸コマンド初期化
　　　　　　A[i].v = 0;
　　　　　　A[i].vang = 0;
　　　　　　A[i].cnd = 0;
　　　　　　A[i].mode = 0;
　　　}
}
```
### A\_(B\_)offence init
この関数には自分のチームが攻撃スタートの時の位置等を記述してください。<br>
記述方法はinit と同じです。

### A\_(B\_)strategy
この関数が戦略を記述する関数です。<br>
3 章で出てきた関数たちを駆使する等をして戦略を組んでください。<br>
例はサンプルプログラムをご覧ください。<br>

### A\_(B\_)lineover init
これはボールが線を割った時の位置等を記述する関数です。<br>
この関数内にはあらかじめswitch 文が書いてあり横にコメントでスローインなどと書いてあります。<br>
それぞれの場合について位置等の情報を記述してください。<br>
***

## 操作方法
このプログラムはデバック用にキーボード等で開始一時停止ができます。<br>
「左クリック」：ボールをその位置へ移動させ開始<br>
「s」：スタート<br>
「a」：ストップ<br>
***
## 注意点とお願い
このプログラムはまだ作成途中です。<br>
したがって予期せぬ不具合が起こるかもしれません。その際は制作者へフィードバックをお願いします。<br>
さらにプログラム内のパラメータ等ををいじることでありえない動き等が可能ですが、良識の範囲内でお願いします。<br>
また、手続き型で書かれている本プログラムですが、そのうちオブジェクト指向型のプログラムへ変更予定です。その際は少し戦略の書き方が変わりますがご了承ください。<br><br>
最後にこのプログラムを制作者を介さずに他の人に公開しないでください。よろしくお願いいたします。<br><br>
現在このマニュアルも試作品なので、不備だらけだと思うので、不明点は遠慮なく制作者へ問い合わせてください。<br>
戦略の書き方のご相談等もわかる範囲で受け付けます。
